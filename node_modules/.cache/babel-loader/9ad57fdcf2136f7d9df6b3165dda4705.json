{"ast":null,"code":"var _jsxFileName = \"/Users/macbookair/Desktop/DMF_SITE/light-of-islam-client/src/DashBoard/Finace/Finance.js\",\n    _s = $RefreshSig$();\n\nimport React, { useContext, useEffect, useState } from \"react\";\nimport { NewAppContext } from \"../../App\";\nimport Loader from \"../../components/Loader/Loader\";\nimport Progress from \"../../components/Progress/Progress\";\nimport useAuth from \"../../hooks/useAuth\";\nimport Payment from \"../../Pages/Payment/Payment\";\nimport { Column } from \"primereact/column\";\nimport { DataTable } from \"primereact/datatable\"; // import { Rating } from \"primereact/rating\";\n\nimport { Button } from \"primereact/button\";\nimport { toast } from \"react-toastify\";\nimport { splitButtonTemp } from \"../../components/SplitButton/SplitButtonTemp\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function Finance() {\n  _s();\n\n  const {\n    depositInfo,\n    setDepositInfo\n  } = useContext(NewAppContext);\n  const [loading, setLoading] = useState(false);\n  const [depositInfo2, setDepositInfo2] = useState([]);\n  const {\n    userInfo\n  } = useAuth();\n  useEffect(() => {\n    //https://light-of-islam-server-production-0204.up.railway.app/\n    try {\n      setLoading(true);\n      fetch(`https://light-of-islam-server-production-0204.up.railway.app/deposit`).then(res => res.json()).then(data => {\n        setLoading(false); // console.log(\"event data\", data[0].email);\n\n        if ((userInfo === null || userInfo === void 0 ? void 0 : userInfo.payRole) === \"finance\") {\n          const latestData = data.sort((a, b) => new Date(b.date).getTime() - new Date(a.date).getTime());\n          setDepositInfo(latestData);\n          setDepositInfo2(latestData);\n        } else {\n          const filteredData = data === null || data === void 0 ? void 0 : data.filter(d => (d === null || d === void 0 ? void 0 : d.email) === (userInfo === null || userInfo === void 0 ? void 0 : userInfo.email));\n          const latestData = filteredData.sort((a, b) => new Date(b.date).getTime() - new Date(a.date).getTime());\n          setDepositInfo(latestData);\n          setDepositInfo2(latestData);\n        }\n      });\n    } catch (err) {\n      setLoading(false);\n      toast.error(err);\n    }\n  }, []); // searching method\n\n  const handleSearch = event => {\n    const searchText = event.target.value;\n\n    if (searchText) {\n      const matchedDetails = depositInfo === null || depositInfo === void 0 ? void 0 : depositInfo.filter(details => {\n        var _details$dmfID, _details$transactionI;\n\n        return (details === null || details === void 0 ? void 0 : (_details$dmfID = details.dmfID) === null || _details$dmfID === void 0 ? void 0 : _details$dmfID.includes(searchText)) || (details === null || details === void 0 ? void 0 : (_details$transactionI = details.transactionID) === null || _details$transactionI === void 0 ? void 0 : _details$transactionI.includes(searchText));\n      });\n      setDepositInfo(matchedDetails);\n    } else {\n      setDepositInfo(depositInfo2);\n    }\n  };\n\n  const statusTemplate = rowData => {\n    return /*#__PURE__*/_jsxDEV(\"span\", {\n      className: `product-badge status-${rowData.inventoryStatus ? rowData.inventoryStatus.toLowerCase() : \"\"}`,\n      children: rowData.inventoryStatus\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 7\n    }, this);\n  };\n\n  const edit = rowData => {};\n\n  const actionBodyTemplate = rowData => {\n    const buttonTemp = [{\n      label: \"Edit\",\n      icon: \"\",\n      command: e => {\n        edit(rowData);\n      }\n    }];\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: splitButtonTemp(rowData, {\n        defaultFunc: \"\",\n        defaultLabel: \"Actions\",\n        defaultColor: \"button\",\n        defaultIcon: \"\"\n      }, buttonTemp)\n    }, void 0, false);\n  };\n\n  const paginatorLeft = /*#__PURE__*/_jsxDEV(Button, {\n    type: \"button\",\n    icon: \"pi pi-refresh\",\n    className: \"p-button-text\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 108,\n    columnNumber: 5\n  }, this);\n\n  const paginatorRight = /*#__PURE__*/_jsxDEV(Button, {\n    type: \"button\",\n    icon: \"pi pi-cloud\",\n    className: \"p-button-text\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 111,\n    columnNumber: 5\n  }, this);\n\n  const imageBodyTemplate = rowData => {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"p-multiselect-representative-option flex items-center \",\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        className: \"rounded-full\",\n        alt: \"\",\n        src: rowData.image,\n        onError: e => e.target.src = \"https://www.primefaces.org/wp-content/uploads/2020/05/placeholder.png\",\n        width: 32,\n        style: {\n          verticalAlign: \"middle\"\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"image-text pl-2\",\n        children: rowData === null || rowData === void 0 ? void 0 : rowData.displayName\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 7\n    }, this);\n  };\n\n  const statusBodyTemplate = rowData => {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"span\", {\n        className: `${(rowData === null || rowData === void 0 ? void 0 : rowData.status) === \"Accepted\" ? \"text-green-500\" : \"text-yellow-500\"}`,\n        children: rowData === null || rowData === void 0 ? void 0 : rowData.status\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 7\n    }, this);\n  };\n\n  const dateBodyTemplate = rowData => {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"span\", {\n        children: rowData === null || rowData === void 0 ? void 0 : rowData.date\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 7\n    }, this);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [(userInfo === null || userInfo === void 0 ? void 0 : userInfo.payRole) === \"member\" && /*#__PURE__*/_jsxDEV(Progress, {\n        depositInfo: depositInfo\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"flex bg-gray-50 items-center p-2 rounded-md my-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n          xmlns: \"http://www.w3.org/2000/svg\",\n          class: \"h-5 w-5 text-gray-400\",\n          viewBox: \"0 0 20 20\",\n          fill: \"currentColor\",\n          children: /*#__PURE__*/_jsxDEV(\"path\", {\n            \"fill-rule\": \"evenodd\",\n            d: \"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z\",\n            \"clip-rule\": \"evenodd\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 167,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 161,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          onChange: handleSearch,\n          className: \"bg-gray-50 outline-none ml-1 block  w-full\",\n          type: \"text\",\n          name: \"\",\n          id: \"\",\n          placeholder: \"search...by dmfID or transactionID\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 173,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(DataTable, {\n        paginator: true,\n        paginatorTemplate: \"CurrentPageReport FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink RowsPerPageDropdown\",\n        currentPageReportTemplate: \"Showing {first} to {last} of {totalRecords}\",\n        rows: 10,\n        rowsPerPageOptions: [10, 20, 50],\n        paginatorLeft: paginatorLeft,\n        paginatorRight: paginatorRight,\n        value: depositInfo,\n        header: \"Deposit Information\",\n        responsiveLayout: \"scroll\",\n        loading: loading,\n        showGridlines: true,\n        children: [/*#__PURE__*/_jsxDEV(Column, {\n          header: \"User\",\n          filterField: \"representative\",\n          showFilterMatchModes: false,\n          filterMenuStyle: {\n            width: \"10rem\"\n          },\n          style: {\n            minWidth: \"0.5rem\"\n          },\n          body: imageBodyTemplate\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 197,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Column, {\n          field: \"depositAmount\",\n          header: \"depositAmount\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 206,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Column, {\n          field: \"transactionID\",\n          header: \"transactionID\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 207,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Column, {\n          field: \"date\",\n          header: \"Date\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 208,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Column, {\n          field: \"paymentType\",\n          header: \"Method\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 209,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Column, {\n          field: \"status\",\n          header: \"Status\",\n          body: statusBodyTemplate\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 210,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 155,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Finance, \"/DnG0SLd3MTy0K0FkD93A5S1GBI=\", false, function () {\n  return [useAuth];\n});\n\n_c = Finance;\n\nvar _c;\n\n$RefreshReg$(_c, \"Finance\");","map":{"version":3,"sources":["/Users/macbookair/Desktop/DMF_SITE/light-of-islam-client/src/DashBoard/Finace/Finance.js"],"names":["React","useContext","useEffect","useState","NewAppContext","Loader","Progress","useAuth","Payment","Column","DataTable","Button","toast","splitButtonTemp","Finance","depositInfo","setDepositInfo","loading","setLoading","depositInfo2","setDepositInfo2","userInfo","fetch","then","res","json","data","payRole","latestData","sort","a","b","Date","date","getTime","filteredData","filter","d","email","err","error","handleSearch","event","searchText","target","value","matchedDetails","details","dmfID","includes","transactionID","statusTemplate","rowData","inventoryStatus","toLowerCase","edit","actionBodyTemplate","buttonTemp","label","icon","command","e","defaultFunc","defaultLabel","defaultColor","defaultIcon","paginatorLeft","paginatorRight","imageBodyTemplate","image","src","verticalAlign","displayName","statusBodyTemplate","status","dateBodyTemplate","width","minWidth"],"mappings":"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","sourcesContent":["import React, { useContext, useEffect, useState } from \"react\";\nimport { NewAppContext } from \"../../App\";\nimport Loader from \"../../components/Loader/Loader\";\nimport Progress from \"../../components/Progress/Progress\";\nimport useAuth from \"../../hooks/useAuth\";\nimport Payment from \"../../Pages/Payment/Payment\";\n\nimport { Column } from \"primereact/column\";\nimport { DataTable } from \"primereact/datatable\";\n// import { Rating } from \"primereact/rating\";\nimport { Button } from \"primereact/button\";\nimport { toast } from \"react-toastify\";\nimport { splitButtonTemp } from \"../../components/SplitButton/SplitButtonTemp\";\n\nexport default function Finance() {\n  const { depositInfo, setDepositInfo } = useContext(NewAppContext);\n  const [loading, setLoading] = useState(false);\n  const [depositInfo2, setDepositInfo2] = useState([]);\n  const { userInfo } = useAuth();\n\n  useEffect(() => {\n    //https://light-of-islam-server-production-0204.up.railway.app/\n    try {\n      setLoading(true);\n      fetch(\n        `https://light-of-islam-server-production-0204.up.railway.app/deposit`\n      )\n        .then((res) => res.json())\n        .then((data) => {\n          setLoading(false);\n          // console.log(\"event data\", data[0].email);\n          if (userInfo?.payRole === \"finance\") {\n            const latestData = data.sort(\n              (a, b) => new Date(b.date).getTime() - new Date(a.date).getTime()\n            );\n            setDepositInfo(latestData);\n            setDepositInfo2(latestData);\n          } else {\n            const filteredData = data?.filter(\n              (d) => d?.email === userInfo?.email\n            );\n            const latestData = filteredData.sort(\n              (a, b) => new Date(b.date).getTime() - new Date(a.date).getTime()\n            );\n            setDepositInfo(latestData);\n            setDepositInfo2(latestData);\n          }\n        });\n    } catch (err) {\n      setLoading(false);\n      toast.error(err);\n    }\n  }, []);\n\n  // searching method\n  const handleSearch = (event) => {\n    const searchText = event.target.value;\n    if (searchText) {\n      const matchedDetails = depositInfo?.filter(\n        (details) =>\n          details?.dmfID?.includes(searchText) ||\n          details?.transactionID?.includes(searchText)\n      );\n      setDepositInfo(matchedDetails);\n    } else {\n      setDepositInfo(depositInfo2);\n    }\n  };\n  const statusTemplate = (rowData) => {\n    return (\n      <span\n        className={`product-badge status-${\n          rowData.inventoryStatus ? rowData.inventoryStatus.toLowerCase() : \"\"\n        }`}\n      >\n        {rowData.inventoryStatus}\n      </span>\n    );\n  };\n  const edit = (rowData) => {};\n\n  const actionBodyTemplate = (rowData) => {\n    const buttonTemp = [\n      {\n        label: \"Edit\",\n        icon: \"\",\n        command: (e) => {\n          edit(rowData);\n        },\n      },\n    ];\n    return (\n      <>\n        {splitButtonTemp(\n          rowData,\n          {\n            defaultFunc: \"\",\n            defaultLabel: \"Actions\",\n            defaultColor: \"button\",\n            defaultIcon: \"\",\n          },\n          buttonTemp\n        )}\n      </>\n    );\n  };\n  const paginatorLeft = (\n    <Button type=\"button\" icon=\"pi pi-refresh\" className=\"p-button-text\" />\n  );\n  const paginatorRight = (\n    <Button type=\"button\" icon=\"pi pi-cloud\" className=\"p-button-text\" />\n  );\n  const imageBodyTemplate = (rowData) => {\n    return (\n      <div className=\"p-multiselect-representative-option flex items-center \">\n        <img\n          className=\"rounded-full\"\n          alt={\"\"}\n          src={rowData.image}\n          onError={(e) =>\n            (e.target.src =\n              \"https://www.primefaces.org/wp-content/uploads/2020/05/placeholder.png\")\n          }\n          width={32}\n          style={{ verticalAlign: \"middle\" }}\n        />\n        <span className=\"image-text pl-2\">{rowData?.displayName}</span>\n      </div>\n    );\n  };\n  const statusBodyTemplate = (rowData) => {\n    return (\n      <div>\n        <span\n          className={`${\n            rowData?.status === \"Accepted\"\n              ? \"text-green-500\"\n              : \"text-yellow-500\"\n          }`}\n        >\n          {rowData?.status}\n        </span>\n      </div>\n    );\n  };\n  const dateBodyTemplate = (rowData) => {\n    return (\n      <div>\n        <span>{rowData?.date}</span>\n      </div>\n    );\n  };\n\n  return (\n    <div>\n      <div>\n        {userInfo?.payRole === \"member\" && (\n          <Progress depositInfo={depositInfo} />\n        )}\n        <div class=\"flex bg-gray-50 items-center p-2 rounded-md my-2\">\n          <svg\n            xmlns=\"http://www.w3.org/2000/svg\"\n            class=\"h-5 w-5 text-gray-400\"\n            viewBox=\"0 0 20 20\"\n            fill=\"currentColor\"\n          >\n            <path\n              fill-rule=\"evenodd\"\n              d=\"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z\"\n              clip-rule=\"evenodd\"\n            />\n          </svg>\n          <input\n            onChange={handleSearch}\n            className=\"bg-gray-50 outline-none ml-1 block  w-full\"\n            type=\"text\"\n            name=\"\"\n            id=\"\"\n            placeholder=\"search...by dmfID or transactionID\"\n          />\n        </div>\n\n        <DataTable\n          paginator\n          paginatorTemplate=\"CurrentPageReport FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink RowsPerPageDropdown\"\n          currentPageReportTemplate=\"Showing {first} to {last} of {totalRecords}\"\n          rows={10}\n          rowsPerPageOptions={[10, 20, 50]}\n          paginatorLeft={paginatorLeft}\n          paginatorRight={paginatorRight}\n          value={depositInfo}\n          header=\"Deposit Information\"\n          responsiveLayout=\"scroll\"\n          loading={loading}\n          showGridlines\n        >\n          <Column\n            header=\"User\"\n            filterField=\"representative\"\n            showFilterMatchModes={false}\n            filterMenuStyle={{ width: \"10rem\" }}\n            style={{ minWidth: \"0.5rem\" }}\n            body={imageBodyTemplate}\n          />\n\n          <Column field=\"depositAmount\" header=\"depositAmount\" />\n          <Column field=\"transactionID\" header=\"transactionID\" />\n          <Column field=\"date\" header=\"Date\" />\n          <Column field=\"paymentType\" header=\"Method\" />\n          <Column field=\"status\" header=\"Status\" body={statusBodyTemplate} />\n          {/* <Column field=\"action\" header=\"Action\" body={actionBodyTemplate} /> */}\n        </DataTable>\n      </div>\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}