{"ast":null,"code":"var _jsxFileName = \"/Users/macbookair/Desktop/DMF_SITE/light-of-islam-client/src/DashBoard/Finace/Finance.js\",\n    _s = $RefreshSig$();\n\nimport React, { useContext, useEffect, useState } from \"react\";\nimport { NewAppContext } from \"../../App\";\nimport Progress from \"../../components/Progress/Progress\";\nimport useAuth from \"../../hooks/useAuth\";\nimport Payment from \"../../Pages/Payment/Payment\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Finance() {\n  _s();\n\n  var _depositInfo$slice;\n\n  const {\n    depositInfo,\n    setDepositInfo\n  } = useContext(NewAppContext);\n  const [depositInfo2, setDepositInfo2] = useState([]);\n  const {\n    userInfo\n  } = useAuth();\n  useEffect(() => {\n    //https://dmf-server.vercel.app/\n    fetch(`https://dmf-server.vercel.app/deposit`).then(res => res.json()).then(data => {\n      // console.log(\"event data\", data[0].email);\n      if ((userInfo === null || userInfo === void 0 ? void 0 : userInfo.payRole) === \"finance\") {\n        const latestData = data.sort((a, b) => new Date(b.date).getTime() - new Date(a.date).getTime());\n        setDepositInfo(latestData);\n        setDepositInfo2(latestData);\n      } else {\n        const filteredData = data === null || data === void 0 ? void 0 : data.filter(d => (d === null || d === void 0 ? void 0 : d.email) === (userInfo === null || userInfo === void 0 ? void 0 : userInfo.email));\n        const latestData = filteredData.sort((a, b) => new Date(b.date).getTime() - new Date(a.date).getTime());\n        setDepositInfo(latestData);\n        setDepositInfo2(latestData);\n      }\n    });\n  }, []); // searching method\n\n  const handleSearch = event => {\n    const searchText = event.target.value;\n\n    if (searchText) {\n      const matchedDetails = depositInfo === null || depositInfo === void 0 ? void 0 : depositInfo.filter(details => {\n        var _details$dmfID, _details$transactionI;\n\n        return (details === null || details === void 0 ? void 0 : (_details$dmfID = details.dmfID) === null || _details$dmfID === void 0 ? void 0 : _details$dmfID.includes(searchText)) || (details === null || details === void 0 ? void 0 : (_details$transactionI = details.transactionID) === null || _details$transactionI === void 0 ? void 0 : _details$transactionI.includes(searchText));\n      });\n      setDepositInfo(matchedDetails);\n    } else {\n      setDepositInfo(depositInfo2);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [(userInfo === null || userInfo === void 0 ? void 0 : userInfo.payRole) === \"member\" && /*#__PURE__*/_jsxDEV(Progress, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 42\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      class: \"flex items-center justify-end\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"flex bg-gray-50 items-center p-2 rounded-md\",\n        children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n          xmlns: \"http://www.w3.org/2000/svg\",\n          class: \"h-5 w-5 text-gray-400\",\n          viewBox: \"0 0 20 20\",\n          fill: \"currentColor\",\n          children: /*#__PURE__*/_jsxDEV(\"path\", {\n            \"fill-rule\": \"evenodd\",\n            d: \"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z\",\n            \"clip-rule\": \"evenodd\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          onChange: handleSearch,\n          class: \"bg-gray-50 outline-none ml-1 block \",\n          type: \"text\",\n          name: \"\",\n          id: \"\",\n          placeholder: \"search...by dmfID or transactionID\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n      class: \"\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"flex flex-col justify-center h-full\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"w-full  mx-auto bg-white  rounded-sm \",\n          children: [/*#__PURE__*/_jsxDEV(\"header\", {\n            class: \"px-5 py-4 border-b border-gray-100\",\n            children: /*#__PURE__*/_jsxDEV(\"h2\", {\n              class: \"font-semibold text-gray-800\",\n              children: \"DMF Interest Free Loan Scheme (Deposit Dashboard)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 84,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"p-3\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              class: \"overflow-x-auto\",\n              children: /*#__PURE__*/_jsxDEV(\"table\", {\n                class: \"table-auto w-full\",\n                children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n                  class: \"text-xs font-semibold uppercase text-gray-400 bg-gray-50\",\n                  children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                      class: \"p-2 whitespace-nowrap\",\n                      children: /*#__PURE__*/_jsxDEV(\"div\", {\n                        class: \"font-semibold text-left\",\n                        children: \"Name\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 94,\n                        columnNumber: 25\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 93,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      class: \"p-2 whitespace-nowrap\",\n                      children: /*#__PURE__*/_jsxDEV(\"div\", {\n                        class: \"font-semibold text-left\",\n                        children: \"DMF ID\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 97,\n                        columnNumber: 25\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 96,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      class: \"p-2 whitespace-nowrap\",\n                      children: /*#__PURE__*/_jsxDEV(\"div\", {\n                        class: \"font-semibold text-left\",\n                        children: \"Amount\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 100,\n                        columnNumber: 25\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 99,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      class: \"p-2 whitespace-nowrap\",\n                      children: /*#__PURE__*/_jsxDEV(\"div\", {\n                        class: \"font-semibold text-left\",\n                        children: \"Transaction ID\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 103,\n                        columnNumber: 25\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 102,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      class: \"p-2 whitespace-nowrap\",\n                      children: /*#__PURE__*/_jsxDEV(\"div\", {\n                        class: \"font-semibold text-left\",\n                        children: \"Date\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 108,\n                        columnNumber: 25\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 107,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      class: \"p-2 whitespace-nowrap\",\n                      children: /*#__PURE__*/_jsxDEV(\"div\", {\n                        class: \"font-semibold text-center\",\n                        children: \"Payment Method\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 111,\n                        columnNumber: 25\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 110,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      class: \"p-2 whitespace-nowrap\",\n                      children: /*#__PURE__*/_jsxDEV(\"div\", {\n                        class: \"font-semibold text-center\",\n                        children: \"Status\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 116,\n                        columnNumber: 25\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 115,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 92,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 91,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n                  class: \"text-sm divide-y divide-gray-100\",\n                  children: (_depositInfo$slice = depositInfo.slice(0, 10)) === null || _depositInfo$slice === void 0 ? void 0 : _depositInfo$slice.map((data, index) => /*#__PURE__*/_jsxDEV(\"tr\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                      class: \"p-2 whitespace-nowrap\",\n                      children: /*#__PURE__*/_jsxDEV(\"div\", {\n                        class: \"flex items-center\",\n                        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                          class: \"w-10 h-10 flex-shrink-0 mr-2 sm:mr-3\",\n                          children: /*#__PURE__*/_jsxDEV(\"img\", {\n                            class: \"rounded-full \",\n                            src: data === null || data === void 0 ? void 0 : data.image,\n                            width: \"40\",\n                            height: \"40\",\n                            alt: \"Alex Shatov\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 126,\n                            columnNumber: 31\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 125,\n                          columnNumber: 29\n                        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                          class: \"font-medium text-gray-800\",\n                          children: data === null || data === void 0 ? void 0 : data.displayName\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 134,\n                          columnNumber: 29\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 124,\n                        columnNumber: 27\n                      }, this)\n                    }, index, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 123,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      children: /*#__PURE__*/_jsxDEV(\"div\", {\n                        class: \"text-left font-medium text-gray-800\",\n                        children: data === null || data === void 0 ? void 0 : data.dmfID\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 140,\n                        columnNumber: 27\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 139,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      class: \"p-2 whitespace-nowrap\",\n                      children: /*#__PURE__*/_jsxDEV(\"div\", {\n                        class: \"text-left font-medium text-green-500\",\n                        children: [\"\\u09F3 \", data === null || data === void 0 ? void 0 : data.depositAmount]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 145,\n                        columnNumber: 27\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 144,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      class: \"p-2 whitespace-nowrap\",\n                      children: /*#__PURE__*/_jsxDEV(\"div\", {\n                        class: \"text-left font-medium text-indigo-500\",\n                        children: data === null || data === void 0 ? void 0 : data.transactionID\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 150,\n                        columnNumber: 27\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 149,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      class: \"p-2 whitespace-nowrap\",\n                      children: /*#__PURE__*/_jsxDEV(\"div\", {\n                        class: \"text-left\",\n                        children: data === null || data === void 0 ? void 0 : data.date.slice(0, 10)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 155,\n                        columnNumber: 27\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 154,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      class: \"p-2 whitespace-nowrap\",\n                      children: /*#__PURE__*/_jsxDEV(\"div\", {\n                        class: \" text-center\",\n                        children: data === null || data === void 0 ? void 0 : data.paymentType\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 158,\n                        columnNumber: 27\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 157,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      class: \"p-2 whitespace-nowrap\",\n                      children: /*#__PURE__*/_jsxDEV(\"div\", {\n                        class: \" text-center\",\n                        children: data === null || data === void 0 ? void 0 : data.status\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 161,\n                        columnNumber: 27\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 160,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 122,\n                    columnNumber: 23\n                  }, this))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 120,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 90,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 89,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 54,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Finance, \"NKwncyIaNUww8pJHLOm6i76jXDQ=\", false, function () {\n  return [useAuth];\n});\n\n_c = Finance;\n\nvar _c;\n\n$RefreshReg$(_c, \"Finance\");","map":{"version":3,"sources":["/Users/macbookair/Desktop/DMF_SITE/light-of-islam-client/src/DashBoard/Finace/Finance.js"],"names":["React","useContext","useEffect","useState","NewAppContext","Progress","useAuth","Payment","Finance","depositInfo","setDepositInfo","depositInfo2","setDepositInfo2","userInfo","fetch","then","res","json","data","payRole","latestData","sort","a","b","Date","date","getTime","filteredData","filter","d","email","handleSearch","event","searchText","target","value","matchedDetails","details","dmfID","includes","transactionID","slice","map","index","image","displayName","depositAmount","paymentType","status"],"mappings":"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","sourcesContent":["import React, { useContext, useEffect, useState } from \"react\";\nimport { NewAppContext } from \"../../App\";\nimport Progress from \"../../components/Progress/Progress\";\nimport useAuth from \"../../hooks/useAuth\";\nimport Payment from \"../../Pages/Payment/Payment\";\n\nexport default function Finance() {\n  const { depositInfo, setDepositInfo } = useContext(NewAppContext);\n\n  const [depositInfo2, setDepositInfo2] = useState([]);\n  const { userInfo } = useAuth();\n\n  useEffect(() => {\n    //https://dmf-server.vercel.app/\n    fetch(`https://dmf-server.vercel.app/deposit`)\n      .then((res) => res.json())\n      .then((data) => {\n        // console.log(\"event data\", data[0].email);\n        if (userInfo?.payRole === \"finance\") {\n          const latestData = data.sort(\n            (a, b) => new Date(b.date).getTime() - new Date(a.date).getTime()\n          );\n          setDepositInfo(latestData);\n          setDepositInfo2(latestData);\n        } else {\n          const filteredData = data?.filter(\n            (d) => d?.email === userInfo?.email\n          );\n          const latestData = filteredData.sort(\n            (a, b) => new Date(b.date).getTime() - new Date(a.date).getTime()\n          );\n          setDepositInfo(latestData);\n          setDepositInfo2(latestData);\n        }\n      });\n  }, []);\n\n  // searching method\n  const handleSearch = (event) => {\n    const searchText = event.target.value;\n    if (searchText) {\n      const matchedDetails = depositInfo?.filter(\n        (details) =>\n          details?.dmfID?.includes(searchText) ||\n          details?.transactionID?.includes(searchText)\n      );\n      setDepositInfo(matchedDetails);\n    } else {\n      setDepositInfo(depositInfo2);\n    }\n  };\n\n  return (\n    <div>\n      {userInfo?.payRole === \"member\" && <Progress />}\n      <div class=\"flex items-center justify-end\">\n        <div class=\"flex bg-gray-50 items-center p-2 rounded-md\">\n          <svg\n            xmlns=\"http://www.w3.org/2000/svg\"\n            class=\"h-5 w-5 text-gray-400\"\n            viewBox=\"0 0 20 20\"\n            fill=\"currentColor\"\n          >\n            <path\n              fill-rule=\"evenodd\"\n              d=\"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z\"\n              clip-rule=\"evenodd\"\n            />\n          </svg>\n          <input\n            onChange={handleSearch}\n            class=\"bg-gray-50 outline-none ml-1 block \"\n            type=\"text\"\n            name=\"\"\n            id=\"\"\n            placeholder=\"search...by dmfID or transactionID\"\n          />\n        </div>\n      </div>\n      <section class=\"\">\n        <div class=\"flex flex-col justify-center h-full\">\n          <div class=\"w-full  mx-auto bg-white  rounded-sm \">\n            <header class=\"px-5 py-4 border-b border-gray-100\">\n              <h2 class=\"font-semibold text-gray-800\">\n                DMF Interest Free Loan Scheme (Deposit Dashboard)\n              </h2>\n            </header>\n            <div class=\"p-3\">\n              <div class=\"overflow-x-auto\">\n                <table class=\"table-auto w-full\">\n                  <thead class=\"text-xs font-semibold uppercase text-gray-400 bg-gray-50\">\n                    <tr>\n                      <th class=\"p-2 whitespace-nowrap\">\n                        <div class=\"font-semibold text-left\">Name</div>\n                      </th>\n                      <th class=\"p-2 whitespace-nowrap\">\n                        <div class=\"font-semibold text-left\">DMF ID</div>\n                      </th>\n                      <th class=\"p-2 whitespace-nowrap\">\n                        <div class=\"font-semibold text-left\">Amount</div>\n                      </th>\n                      <th class=\"p-2 whitespace-nowrap\">\n                        <div class=\"font-semibold text-left\">\n                          Transaction ID\n                        </div>\n                      </th>\n                      <th class=\"p-2 whitespace-nowrap\">\n                        <div class=\"font-semibold text-left\">Date</div>\n                      </th>\n                      <th class=\"p-2 whitespace-nowrap\">\n                        <div class=\"font-semibold text-center\">\n                          Payment Method\n                        </div>\n                      </th>\n                      <th class=\"p-2 whitespace-nowrap\">\n                        <div class=\"font-semibold text-center\">Status</div>\n                      </th>\n                    </tr>\n                  </thead>\n                  <tbody class=\"text-sm divide-y divide-gray-100\">\n                    {depositInfo.slice(0, 10)?.map((data, index) => (\n                      <tr>\n                        <td key={index} class=\"p-2 whitespace-nowrap\">\n                          <div class=\"flex items-center\">\n                            <div class=\"w-10 h-10 flex-shrink-0 mr-2 sm:mr-3\">\n                              <img\n                                class=\"rounded-full \"\n                                src={data?.image}\n                                width=\"40\"\n                                height=\"40\"\n                                alt=\"Alex Shatov\"\n                              />\n                            </div>\n                            <div class=\"font-medium text-gray-800\">\n                              {data?.displayName}\n                            </div>\n                          </div>\n                        </td>\n                        <td>\n                          <div class=\"text-left font-medium text-gray-800\">\n                            {data?.dmfID}\n                          </div>\n                        </td>\n                        <td class=\"p-2 whitespace-nowrap\">\n                          <div class=\"text-left font-medium text-green-500\">\n                            ৳ {data?.depositAmount}\n                          </div>\n                        </td>\n                        <td class=\"p-2 whitespace-nowrap\">\n                          <div class=\"text-left font-medium text-indigo-500\">\n                            {data?.transactionID}\n                          </div>\n                        </td>\n                        <td class=\"p-2 whitespace-nowrap\">\n                          <div class=\"text-left\">{data?.date.slice(0, 10)}</div>\n                        </td>\n                        <td class=\"p-2 whitespace-nowrap\">\n                          <div class=\" text-center\">{data?.paymentType}</div>\n                        </td>\n                        <td class=\"p-2 whitespace-nowrap\">\n                          <div class=\" text-center\">{data?.status}</div>\n                        </td>\n                      </tr>\n                    ))}\n                  </tbody>\n                </table>\n              </div>\n            </div>\n          </div>\n        </div>\n      </section>\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}