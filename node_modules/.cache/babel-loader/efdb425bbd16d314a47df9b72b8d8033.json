{"ast":null,"code":"var _jsxFileName = \"/Users/macbookair/Desktop/DMF_SITE/light-of-islam-client/src/DashBoard/Finace/Finance.js\",\n    _s = $RefreshSig$();\n\nimport React, { useContext, useEffect, useState } from \"react\";\nimport { NewAppContext } from \"../../App\";\nimport Loader from \"../../components/Loader/Loader\";\nimport Progress from \"../../components/Progress/Progress\";\nimport useAuth from \"../../hooks/useAuth\";\nimport Payment from \"../../Pages/Payment/Payment\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Finance() {\n  _s();\n\n  var _depositInfo$slice;\n\n  const {\n    depositInfo,\n    setDepositInfo\n  } = useContext(NewAppContext);\n  const [depositInfo2, setDepositInfo2] = useState([]);\n  const {\n    userInfo\n  } = useAuth();\n  useEffect(() => {\n    //https://light-of-islam-server-production-0204.up.railway.app/\n    fetch(`https://light-of-islam-server-production-0204.up.railway.app/deposit`).then(res => res.json()).then(data => {\n      // console.log(\"event data\", data[0].email);\n      if ((userInfo === null || userInfo === void 0 ? void 0 : userInfo.payRole) === \"finance\") {\n        const latestData = data.sort((a, b) => new Date(b.date).getTime() - new Date(a.date).getTime());\n        setDepositInfo(latestData);\n        setDepositInfo2(latestData);\n      } else {\n        const filteredData = data === null || data === void 0 ? void 0 : data.filter(d => (d === null || d === void 0 ? void 0 : d.email) === (userInfo === null || userInfo === void 0 ? void 0 : userInfo.email));\n        const latestData = filteredData.sort((a, b) => new Date(b.date).getTime() - new Date(a.date).getTime());\n        setDepositInfo(latestData);\n        setDepositInfo2(latestData);\n      }\n    });\n  }, []); // searching method\n\n  const handleSearch = event => {\n    const searchText = event.target.value;\n\n    if (searchText) {\n      const matchedDetails = depositInfo === null || depositInfo === void 0 ? void 0 : depositInfo.filter(details => {\n        var _details$dmfID, _details$transactionI;\n\n        return (details === null || details === void 0 ? void 0 : (_details$dmfID = details.dmfID) === null || _details$dmfID === void 0 ? void 0 : _details$dmfID.includes(searchText)) || (details === null || details === void 0 ? void 0 : (_details$transactionI = details.transactionID) === null || _details$transactionI === void 0 ? void 0 : _details$transactionI.includes(searchText));\n      });\n      setDepositInfo(matchedDetails);\n    } else {\n      setDepositInfo(depositInfo2);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: !(depositInfo2 === null || depositInfo2 === void 0 ? void 0 : depositInfo2.length) > 0 ? /*#__PURE__*/_jsxDEV(Loader, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [(userInfo === null || userInfo === void 0 ? void 0 : userInfo.payRole) === \"member\" && /*#__PURE__*/_jsxDEV(Progress, {\n        depositInfo: depositInfo\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"flex items-center justify-end\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"flex bg-gray-50 items-center p-2 rounded-md\",\n          children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n            xmlns: \"http://www.w3.org/2000/svg\",\n            class: \"h-5 w-5 text-gray-400\",\n            viewBox: \"0 0 20 20\",\n            fill: \"currentColor\",\n            children: /*#__PURE__*/_jsxDEV(\"path\", {\n              \"fill-rule\": \"evenodd\",\n              d: \"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z\",\n              \"clip-rule\": \"evenodd\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 73,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            onChange: handleSearch,\n            class: \"bg-gray-50 outline-none ml-1 block \",\n            type: \"text\",\n            name: \"\",\n            id: \"\",\n            placeholder: \"search...by dmfID or transactionID\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n        class: \"\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"flex flex-col justify-center h-full\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"w-full  mx-auto bg-white  rounded-sm \",\n            children: [/*#__PURE__*/_jsxDEV(\"header\", {\n              class: \"px-5 py-4 border-b border-gray-100\",\n              children: /*#__PURE__*/_jsxDEV(\"h2\", {\n                class: \"font-semibold text-gray-800\",\n                children: \"DMF Interest Free Loan Scheme (Deposit Dashboard)\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 93,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 92,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              class: \"p-3\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                class: \"overflow-x-auto\",\n                children: /*#__PURE__*/_jsxDEV(\"table\", {\n                  class: \"table-auto w-full\",\n                  children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n                    class: \"text-xs font-semibold uppercase text-gray-400 bg-gray-50\",\n                    children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                        class: \"p-2 whitespace-nowrap\",\n                        children: /*#__PURE__*/_jsxDEV(\"div\", {\n                          class: \"font-semibold text-left\",\n                          children: \"Name\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 103,\n                          columnNumber: 29\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 102,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                        class: \"p-2 whitespace-nowrap\",\n                        children: /*#__PURE__*/_jsxDEV(\"div\", {\n                          class: \"font-semibold text-left\",\n                          children: \"DMF ID\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 106,\n                          columnNumber: 29\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 105,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                        class: \"p-2 whitespace-nowrap\",\n                        children: /*#__PURE__*/_jsxDEV(\"div\", {\n                          class: \"font-semibold text-left\",\n                          children: \"Amount\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 109,\n                          columnNumber: 29\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 108,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                        class: \"p-2 whitespace-nowrap\",\n                        children: /*#__PURE__*/_jsxDEV(\"div\", {\n                          class: \"font-semibold text-left\",\n                          children: \"Transaction ID\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 112,\n                          columnNumber: 29\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 111,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                        class: \"p-2 whitespace-nowrap\",\n                        children: /*#__PURE__*/_jsxDEV(\"div\", {\n                          class: \"font-semibold text-left\",\n                          children: \"Date\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 117,\n                          columnNumber: 29\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 116,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                        class: \"p-2 whitespace-nowrap\",\n                        children: /*#__PURE__*/_jsxDEV(\"div\", {\n                          class: \"font-semibold text-center\",\n                          children: \"Payment Method\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 120,\n                          columnNumber: 29\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 119,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                        class: \"p-2 whitespace-nowrap\",\n                        children: /*#__PURE__*/_jsxDEV(\"div\", {\n                          class: \"font-semibold text-center\",\n                          children: \"Status\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 125,\n                          columnNumber: 29\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 124,\n                        columnNumber: 27\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 101,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 100,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n                    class: \"text-sm divide-y divide-gray-100\",\n                    children: (_depositInfo$slice = depositInfo.slice(0, 10)) === null || _depositInfo$slice === void 0 ? void 0 : _depositInfo$slice.map((data, index) => /*#__PURE__*/_jsxDEV(\"tr\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                        class: \"p-2 whitespace-nowrap\",\n                        children: /*#__PURE__*/_jsxDEV(\"div\", {\n                          class: \"flex items-center\",\n                          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                            class: \"w-10 h-10 flex-shrink-0 mr-2 sm:mr-3\",\n                            children: /*#__PURE__*/_jsxDEV(\"img\", {\n                              class: \"rounded-full \",\n                              src: data === null || data === void 0 ? void 0 : data.image,\n                              width: \"40\",\n                              height: \"40\",\n                              alt: \"Alex Shatov\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 135,\n                              columnNumber: 35\n                            }, this)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 134,\n                            columnNumber: 33\n                          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                            class: \"font-medium text-gray-800\",\n                            children: data === null || data === void 0 ? void 0 : data.displayName\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 143,\n                            columnNumber: 33\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 133,\n                          columnNumber: 31\n                        }, this)\n                      }, index, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 132,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        children: /*#__PURE__*/_jsxDEV(\"div\", {\n                          class: \"text-left font-medium text-gray-800\",\n                          children: data === null || data === void 0 ? void 0 : data.dmfID\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 149,\n                          columnNumber: 31\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 148,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        class: \"p-2 whitespace-nowrap\",\n                        children: /*#__PURE__*/_jsxDEV(\"div\", {\n                          class: \"text-left font-medium text-green-500\",\n                          children: [\"\\u09F3 \", data === null || data === void 0 ? void 0 : data.depositAmount]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 154,\n                          columnNumber: 31\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 153,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        class: \"p-2 whitespace-nowrap\",\n                        children: /*#__PURE__*/_jsxDEV(\"div\", {\n                          class: \"text-left font-medium text-indigo-500\",\n                          children: data === null || data === void 0 ? void 0 : data.transactionID\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 159,\n                          columnNumber: 31\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 158,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        class: \"p-2 whitespace-nowrap\",\n                        children: /*#__PURE__*/_jsxDEV(\"div\", {\n                          class: \"text-left\",\n                          children: data === null || data === void 0 ? void 0 : data.date.slice(0, 10)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 164,\n                          columnNumber: 31\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 163,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        class: \"p-2 whitespace-nowrap\",\n                        children: /*#__PURE__*/_jsxDEV(\"div\", {\n                          class: \" text-center\",\n                          children: data === null || data === void 0 ? void 0 : data.paymentType\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 169,\n                          columnNumber: 31\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 168,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        class: \"p-2 whitespace-nowrap\",\n                        children: /*#__PURE__*/_jsxDEV(\"div\", {\n                          class: `text-center ${(data === null || data === void 0 ? void 0 : data.status) === \"Accepted\" ? \"text-green-500\" : \"text-yellow-500\"}`,\n                          children: data === null || data === void 0 ? void 0 : data.status\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 174,\n                          columnNumber: 31\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 173,\n                        columnNumber: 29\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 131,\n                      columnNumber: 27\n                    }, this))\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 129,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 99,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 98,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 97,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 57,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Finance, \"NKwncyIaNUww8pJHLOm6i76jXDQ=\", false, function () {\n  return [useAuth];\n});\n\n_c = Finance;\n\nvar _c;\n\n$RefreshReg$(_c, \"Finance\");","map":{"version":3,"sources":["/Users/macbookair/Desktop/DMF_SITE/light-of-islam-client/src/DashBoard/Finace/Finance.js"],"names":["React","useContext","useEffect","useState","NewAppContext","Loader","Progress","useAuth","Payment","Finance","depositInfo","setDepositInfo","depositInfo2","setDepositInfo2","userInfo","fetch","then","res","json","data","payRole","latestData","sort","a","b","Date","date","getTime","filteredData","filter","d","email","handleSearch","event","searchText","target","value","matchedDetails","details","dmfID","includes","transactionID","length","slice","map","index","image","displayName","depositAmount","paymentType","status"],"mappings":"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","sourcesContent":["import React, { useContext, useEffect, useState } from \"react\";\nimport { NewAppContext } from \"../../App\";\nimport Loader from \"../../components/Loader/Loader\";\nimport Progress from \"../../components/Progress/Progress\";\nimport useAuth from \"../../hooks/useAuth\";\nimport Payment from \"../../Pages/Payment/Payment\";\n\nexport default function Finance() {\n  const { depositInfo, setDepositInfo } = useContext(NewAppContext);\n\n  const [depositInfo2, setDepositInfo2] = useState([]);\n  const { userInfo } = useAuth();\n\n  useEffect(() => {\n    //https://light-of-islam-server-production-0204.up.railway.app/\n    fetch(\n      `https://light-of-islam-server-production-0204.up.railway.app/deposit`\n    )\n      .then((res) => res.json())\n      .then((data) => {\n        // console.log(\"event data\", data[0].email);\n        if (userInfo?.payRole === \"finance\") {\n          const latestData = data.sort(\n            (a, b) => new Date(b.date).getTime() - new Date(a.date).getTime()\n          );\n          setDepositInfo(latestData);\n          setDepositInfo2(latestData);\n        } else {\n          const filteredData = data?.filter(\n            (d) => d?.email === userInfo?.email\n          );\n          const latestData = filteredData.sort(\n            (a, b) => new Date(b.date).getTime() - new Date(a.date).getTime()\n          );\n          setDepositInfo(latestData);\n          setDepositInfo2(latestData);\n        }\n      });\n  }, []);\n\n  // searching method\n  const handleSearch = (event) => {\n    const searchText = event.target.value;\n    if (searchText) {\n      const matchedDetails = depositInfo?.filter(\n        (details) =>\n          details?.dmfID?.includes(searchText) ||\n          details?.transactionID?.includes(searchText)\n      );\n      setDepositInfo(matchedDetails);\n    } else {\n      setDepositInfo(depositInfo2);\n    }\n  };\n\n  return (\n    <div>\n      {!depositInfo2?.length > 0 ? (\n        <Loader />\n      ) : (\n        <div>\n          {userInfo?.payRole === \"member\" && (\n            <Progress depositInfo={depositInfo} />\n          )}\n          <div class=\"flex items-center justify-end\">\n            <div class=\"flex bg-gray-50 items-center p-2 rounded-md\">\n              <svg\n                xmlns=\"http://www.w3.org/2000/svg\"\n                class=\"h-5 w-5 text-gray-400\"\n                viewBox=\"0 0 20 20\"\n                fill=\"currentColor\"\n              >\n                <path\n                  fill-rule=\"evenodd\"\n                  d=\"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z\"\n                  clip-rule=\"evenodd\"\n                />\n              </svg>\n              <input\n                onChange={handleSearch}\n                class=\"bg-gray-50 outline-none ml-1 block \"\n                type=\"text\"\n                name=\"\"\n                id=\"\"\n                placeholder=\"search...by dmfID or transactionID\"\n              />\n            </div>\n          </div>\n          <section class=\"\">\n            <div class=\"flex flex-col justify-center h-full\">\n              <div class=\"w-full  mx-auto bg-white  rounded-sm \">\n                <header class=\"px-5 py-4 border-b border-gray-100\">\n                  <h2 class=\"font-semibold text-gray-800\">\n                    DMF Interest Free Loan Scheme (Deposit Dashboard)\n                  </h2>\n                </header>\n                <div class=\"p-3\">\n                  <div class=\"overflow-x-auto\">\n                    <table class=\"table-auto w-full\">\n                      <thead class=\"text-xs font-semibold uppercase text-gray-400 bg-gray-50\">\n                        <tr>\n                          <th class=\"p-2 whitespace-nowrap\">\n                            <div class=\"font-semibold text-left\">Name</div>\n                          </th>\n                          <th class=\"p-2 whitespace-nowrap\">\n                            <div class=\"font-semibold text-left\">DMF ID</div>\n                          </th>\n                          <th class=\"p-2 whitespace-nowrap\">\n                            <div class=\"font-semibold text-left\">Amount</div>\n                          </th>\n                          <th class=\"p-2 whitespace-nowrap\">\n                            <div class=\"font-semibold text-left\">\n                              Transaction ID\n                            </div>\n                          </th>\n                          <th class=\"p-2 whitespace-nowrap\">\n                            <div class=\"font-semibold text-left\">Date</div>\n                          </th>\n                          <th class=\"p-2 whitespace-nowrap\">\n                            <div class=\"font-semibold text-center\">\n                              Payment Method\n                            </div>\n                          </th>\n                          <th class=\"p-2 whitespace-nowrap\">\n                            <div class=\"font-semibold text-center\">Status</div>\n                          </th>\n                        </tr>\n                      </thead>\n                      <tbody class=\"text-sm divide-y divide-gray-100\">\n                        {depositInfo.slice(0, 10)?.map((data, index) => (\n                          <tr>\n                            <td key={index} class=\"p-2 whitespace-nowrap\">\n                              <div class=\"flex items-center\">\n                                <div class=\"w-10 h-10 flex-shrink-0 mr-2 sm:mr-3\">\n                                  <img\n                                    class=\"rounded-full \"\n                                    src={data?.image}\n                                    width=\"40\"\n                                    height=\"40\"\n                                    alt=\"Alex Shatov\"\n                                  />\n                                </div>\n                                <div class=\"font-medium text-gray-800\">\n                                  {data?.displayName}\n                                </div>\n                              </div>\n                            </td>\n                            <td>\n                              <div class=\"text-left font-medium text-gray-800\">\n                                {data?.dmfID}\n                              </div>\n                            </td>\n                            <td class=\"p-2 whitespace-nowrap\">\n                              <div class=\"text-left font-medium text-green-500\">\n                                à§³ {data?.depositAmount}\n                              </div>\n                            </td>\n                            <td class=\"p-2 whitespace-nowrap\">\n                              <div class=\"text-left font-medium text-indigo-500\">\n                                {data?.transactionID}\n                              </div>\n                            </td>\n                            <td class=\"p-2 whitespace-nowrap\">\n                              <div class=\"text-left\">\n                                {data?.date.slice(0, 10)}\n                              </div>\n                            </td>\n                            <td class=\"p-2 whitespace-nowrap\">\n                              <div class=\" text-center\">\n                                {data?.paymentType}\n                              </div>\n                            </td>\n                            <td class=\"p-2 whitespace-nowrap\">\n                              <div\n                                class={`text-center ${\n                                  data?.status === \"Accepted\"\n                                    ? \"text-green-500\"\n                                    : \"text-yellow-500\"\n                                }`}\n                              >\n                                {data?.status}\n                              </div>\n                            </td>\n                          </tr>\n                        ))}\n                      </tbody>\n                    </table>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </section>\n        </div>\n      )}\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}